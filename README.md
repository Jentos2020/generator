## О проекте
Сервис для узкоспециализированной ниши, позволяет генерировать фейковые фотографии, генерировать 2-FA коды, а также предоставляет информацию по состоянию рынка расходников для арбитража.
Для периодических задач, таких как парсинг, используется Celery-beat
Взаимодействие с front- и backend происходит посредством API
Тяжелые вычисления(генерация изображения) производится Celery worker'ом без остановки работы приложения.
Весь backend упакован в докер.


##### PhotoGen
Генерирует абсолютно уникальное изображение, имитирующее фото, которое требует FB во время прохождения процедуры разблокировки аккаунта для тех, кто не хочет отправлять свои настоящие документы.

<div align="center"> <img src="https://i.imgur.com/f10Ze75.gif" width="700"/> </div>
<details><summary>Как добивается уникальность изображения и зачем</summary>
1. Все элементы немного сдвигаются относительно друг друга на случайное количество пикселей
2. Случайным образом комбинируются фон и т.н. шум(грязь, пуль, царапины), который накладывается поверх изображения через альфа канал
3. Подставляется уникальное лицо сгенерированное нейросетью на другом ресурсе
4. По запросу пользователя к фотографии добавляются случайные метаданные, чтобы сделать ее более "живой" для тех алгоритмов, которые ее впоследствии будут проверять.
Уникальность нужна, чтобы система распознавания фотографий не забраковала изображения из-за совпадения с уже имеющимся в базе.
</details>

Чтобы избежать чрезмерное злоупотребление сервисом и уменьшить нагрузку на сервер сделано следующее:
- на этапе генерации картинки блокируется возможность поставить следующую в очередь
- посредством кодировки итогового изображения в base64 создаются проблемы для работы через программы автоматизации, такие как Zennoposter, скачивать картинку нужно вручную, кликая по кнопке.

<details><summary>Пример без добавления метаданных</summary>
<div align="center"> <img src="https://i.imgur.com/ZtgPIBN.png" width="500"/> </div>
</details>
<details><summary>Пример с метаданными</summary>
<div align="center"> <img src="https://i.imgur.com/PGWZL0o.png" width="500"/> </div>
</details>


##### Тренды
В фоне раз в несколько часов celery-beat запускает парсер по заданной коллекции магазинов собирается все необходимая информация. Предусмотрен ручной кэш через Redis на данные, которые необходимы для отображения страницы. Также Redis используется для хранения небольших данных, например, вчерашней средней цены.
<div align="center"> <img src="https://i.imgur.com/JnDKirn.png" width="700"/> </div>
<details><summary>Какую информацию дает Dashboard</summary>
Dashboard демонстрирует соотношение по различным позициям товаров, агрегирует информацию более чем по 80 магазинам заданной ниши: 
 1. Сколько товаров в данный момент
 2. На какую сумму
 3. По какой категории
 4. У какого магазина
 5. Сколько продано за сутки, за отчетный период в 7 дней, за аналогичный предыдущий период и сравнение с текущим
 6. Средняя цена за единицу проданного товара за сегодня и в сравнении с вчерашним показателем
 7. Какая категория пользуется наибольшим спросом и сколько в процентах она составляет от всех продаж
</details>


##### 2FA генератор
Выполняет тот же функционал, что и _Google Authenticator_, то есть генерирует коды двухфакторной аутентификации.

<div align="center"> <img src="https://i.imgur.com/TkQz3qw.gif" width="650"/> </div>

Стандартным образом пользователю блокируется возможность отправить меньшее количество символов, чем предусмотрено сервисом, на период действия кода(до ближайшей минуты или 30-ти секунд на часах) нельзя отправить тот же самый код, при этом отправить другой код можно не дожидаясь истечения заданного времени.